# Tennis API Project

A REST API to manage tennis players data, built with .NET Core. This API allows users to retrieve a list of players, get details about a specific player, and obtain global statistics.

## Project Architecture

The project follows a well-defined layered architecture:

### Tennis.API.Infrastructure
- Contains the repository implementation that retrieves player data
- Defines interfaces and contracts
- `PlayerRepository.cs`: Implements `IPlayerRepository` to fetch data via HTTP

### Tennis.API.Presentation
- Contains the API controllers
- Exposes REST endpoints
- `PlayersController.cs`: Handles requests for players and statistics
- Error handling at the controller level

### Tennis.API.Services
- Contains business logic
- Transforms repository data into DTOs for the API
- `PlayerService.cs`: Implements `IPlayerService` to transform and enrich data

### Tennis.API.Shared
- Contains models and DTOs shared across layers
- `Player.cs`, `PlayerData.cs`, `Country.cs`: Data models
- `PlayerDto.cs`, `PlayerStatsDto.cs`: Data transfer objects

### Tennis.API.Tests
- Unit tests for services
- Uses Moq to mock dependencies
- `PlayerServiceTests.cs`: Tests for the various service methods

## Features

The API exposes the following endpoints:

### GET /api/players
- Retrieves the list of players sorted by rank (best to worst)
- Returns a list of `PlayerDto`

### GET /api/players/{id}
- Retrieves details of a specific player by ID
- Returns a `PlayerDto` or 404 if the player doesn't exist

### GET /api/players/statistics
- Provides global statistics:
  - Country with the best win ratio
  - Average BMI of players
  - Median height of players
- Returns a `PlayerStatsDto`

## Technical Details

### Exception Handling
- Each controller method catches exceptions and returns an appropriate HTTP status code
- 404 errors are returned when a player is not found
- 500 errors are returned in case of server error

### Configuration
- The application uses IOptions to load configuration settings
- HTTP client is configured using IHttpClientFactory

### Mapping
- Entities are mapped to DTOs in the service
- Player full names are generated by concatenating first and last names

## How to Run the Project

### Prerequisites
- .NET 8.0 SDK or higher
- Visual Studio 2022 or Visual Studio Code

### Local Setup
1. Clone the repository
```bash
git clone https://github.com/your-username/TennisProject.git
```

2. Restore dependencies
```bash
dotnet restore
```

3. Run the application
```bash
cd Tennis.API.Presentation
dotnet run
```

The API will be accessible at: `https://localhost:port`

### Running Tests
```bash
cd Tennis.API.Tests
dotnet test
```

## Deployment
